<div style="display: flex; justify-content: center; align-items: center; ">
    <script>
        window.VIDEO_ID_CONFIG = 'NOHwIbpqL3A'; // <--- Change Source Here
    </script>
    <div style="width:500px;  ">

        <style>
            #simpleVideoContainer {
                position: relative;
                width: 100%;
                aspect-ratio: 16/9;
                background: #000;
                overflow: hidden;
                border-radius: 8px;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
                transition: all 0.3s ease;
            }

            #simpleVideoContainer.isFullscreen {
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                max-width: none;
                border-radius: 0;
                z-index: 99999;
            }

            #simpleVideoContainer iframe {
                width: 100%;
                height: 100%;
                pointer-events: none;
            }

            .videoControls {
                position: absolute;
                top: 10px;
                right: 10px;
                z-index: 10;
                display: flex;
                gap: 8px;
            }

            .videoBtn {
                background: rgba(0, 0, 0, 0.6);
                color: white;
                border: none;
                cursor: pointer;
                width: 40px;
                height: 40px;
                border-radius: 6px;
                font-size: 20px;
                display: flex;
                align-items: center;
                justify-content: center;
                transition: background 0.2s;
            }

            .videoBtn:hover {
                background: rgba(255, 255, 255, 0.25);
            }

            .subLink {
                position: absolute;
                top: 15px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(200, 0, 0, 0.85);
                color: white;
                text-decoration: none;
                padding: 8px 16px;
                border-radius: 20px;
                font-family: sans-serif;
                font-size: 14px;
                font-weight: bold;
                z-index: 10;
                transition: transform 0.2s;
                display: flex;
                align-items: center;
                gap: 8px;
            }

            .subLink:hover {
                transform: translateX(-50%) scale(1.05);
                background: red;
            }
        </style>

        <div id="simpleVideoContainer">
            <div class="videoControls">
                <button class="videoBtn" id="vidMuteBtn">ðŸ”‡</button>
                <button class="videoBtn" id="vidFullBtn">â›¶</button>
            </div>

            <div id="ytPlayerPlaceholder"></div>

            <a href="https://www.youtube.com/@UygurHaberAjans%C4%B1UHA" target="_blank" class="subLink">
                ðŸ“º Abone Ol
            </a>
        </div>

        <script src="https://www.youtube.com/iframe_api"></script>
        <script>
            (function () {
                // We read from the config set at the very top
                const VIDEO_ID = window.VIDEO_ID_CONFIG || 'NOHwIbpqL3A';

                // Variables local to this closure
                let vidplayer1;
                let isMuted = true;

                const container = document.getElementById('simpleVideoContainer');
                const muteBtn = document.getElementById('vidMuteBtn');
                const fullBtn = document.getElementById('vidFullBtn');

                // Internal init function
                function initLocalPlayer() {
                    vidplayer1 = new YT.Player('ytPlayerPlaceholder', {
                        videoId: VIDEO_ID,
                        playerVars: {
                            'autoplay': 1,
                            'mute': 1,
                            'controls': 0, // Hide native controls
                            'loop': 1,
                            'playlist': VIDEO_ID,
                            'modestbranding': 1,
                            'rel': 0
                        },
                        events: {
                            'onReady': onPlayerReady,
                            'onStateChange': onPlayerStateChange
                        }
                    });
                }

                function onPlayerReady(event) {
                    event.target.mute(); // Ensure start muted
                }

                function onPlayerStateChange(event) {
                    // Explicitly restart video when it ends to guarantee a loop
                    if (event.data === YT.PlayerState.ENDED) {
                        vidplayer1.playVideo();
                    }
                }

                // 2. Mute Toggle Logic
                if (muteBtn) {
                    muteBtn.addEventListener('click', () => {
                        if (!vidplayer1) return;
                        if (isMuted) {
                            vidplayer1.unMute();
                            muteBtn.textContent = 'ðŸ”Š';
                            isMuted = false;
                        } else {
                            vidplayer1.mute();
                            muteBtn.textContent = 'ðŸ”‡';
                            isMuted = true;
                        }
                    });
                }

                // 3. Fullscreen Logic
                if (fullBtn) {
                    fullBtn.addEventListener('click', () => {
                        container.classList.toggle('isFullscreen');

                        // Update icon based on state
                        if (container.classList.contains('isFullscreen')) {
                            fullBtn.textContent = 'âœ–'; // Change to close icon
                        } else {
                            fullBtn.textContent = 'â›¶'; // Change back to expand icon
                        }
                    });
                }

                // 4. Safe Initialization Logic
                // If existing API is ready, init immediately
                if (window.YT && window.YT.Player) {
                    initLocalPlayer();
                } else {
                    // Otherwise hook into the global event safely
                    const oldOnReady = window.onYouTubeIframeAPIReady;
                    window.onYouTubeIframeAPIReady = function () {
                        if (oldOnReady) oldOnReady();
                        initLocalPlayer();
                    };
                }
            })();
        </script>
    </div>
</div>