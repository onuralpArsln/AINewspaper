<style>
    #overlayVideoContainer {
      position: fixed;
      top: 150px;
      left: 10px;
      width: 350px;
      aspect-ratio: 16/9;
      z-index: 9999;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
      background: #000;
      transition: all 0.3s ease;
      cursor: move;
    }

    #overlayVideoContainer.loading iframe {
      opacity: 0;
      transition: opacity 0.5s ease;
    }

    #overlayVideoContainer.loaded iframe {
      opacity: 1;
    }
  
    #overlayVideoContainer.overlayVideoFullscreen {
      position: fixed;
      top: 0 !important;
      left: 0 !important;
      right: 0;
      bottom: 0;
      width: 100vw;
      height: 100vh;
      max-width: 100vw;
      max-height: 100vh;
      border-radius: 0;
      cursor: default;
    }
  
    #overlayVideoContainer iframe {
      width: 100%;
      height: 133.33%; /* Increase height to allow for cropping top 25% */
      border: none;
      pointer-events: none;
      position: absolute;
      top: -33.33%; /* Move up to crop top 25% */
      left: 0;
    }

    #overlayVideoContainer .youtube-overlay-blocker {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: transparent;
      z-index: 1;
      pointer-events: auto;
    }

    #overlayVideoContainer.overlayVideoFullscreen iframe {
      width: 100vw;
      height: 133.33vh; /* Increase height to allow for cropping top 25% */
      top: -33.33vh; /* Move up to crop top 25% */
    }

    #overlayVideoContainer.overlayVideoMinimized {
      width: 60px;
      height: 60px;
      top: 10px;
      left: 10px;
      border-radius: 50%;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    #overlayVideoContainer.overlayVideoMinimized iframe {
      width: 100%;
      height: 133.33%; /* Increase height to allow for cropping top 25% */
      border-radius: 50%;
      top: -33.33%; /* Move up to crop top 25% */
    }

    #overlayVideoContainer.overlayVideoMinimized .youtube-overlay-blocker {
      border-radius: 50%;
    }

    #overlayVideoContainer.overlayVideoMinimized .overlayVideoControls {
      display: none;
    }
  
  .overlayVideoControls {
    position: absolute;
    top: 5px;
    right: 5px;
    display: flex;
    gap: 5px;
    z-index: 10;
  }
  
  .overlayVideoBtn {
    background: rgba(0,0,0,0.6);
    color: white;
    border: none;
    cursor: pointer;
    padding: 12px 24px;
    border-radius: 6px;
    font-size: 24px;
    min-width: 44px;
    min-height: 44px;
  }
  
    .overlayVideoBtn:hover {
      background: rgba(255,255,255,0.2);
    }
  </style>
  
  <div id="overlayVideoContainer">
    <div class="overlayVideoControls">
      <button class="overlayVideoBtn" id="overlayVideoSoundBtn">🔇</button>
      <button class="overlayVideoBtn" id="overlayVideoFullscreenBtn">⛶</button>
      <button class="overlayVideoBtn" id="overlayVideoCloseBtn">✖</button>
    </div>
    <iframe id="overlayVideoPlayer"
      src="https://www.youtube.com/embed/6B-nPOdP720?controls=0&showinfo=0&rel=0&modestbranding=1&disablekb=1&autoplay=1&mute=1&iv_load_policy=3&cc_load_policy=0&fs=0&start=0&enablejsapi=1"
      title="24 TV Canlı İzle #Haber #SonDakika"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen>
    </iframe>
    <div class="youtube-overlay-blocker"></div>
  </div>
  
  <script>
    const overlayVideoContainer = document.getElementById('overlayVideoContainer');
    const overlayVideoPlayer = document.getElementById('overlayVideoPlayer');
    const overlayVideoSoundBtn = document.getElementById('overlayVideoSoundBtn');
    const overlayVideoFullscreenBtn = document.getElementById('overlayVideoFullscreenBtn');
    const overlayVideoCloseBtn = document.getElementById('overlayVideoCloseBtn');

    // Hide iframe during initial load to prevent logo flash
    overlayVideoContainer.classList.add('loading');
    
    // Show iframe after a delay to allow video to load
    window.addEventListener('load', () => {
      setTimeout(() => {
        overlayVideoContainer.classList.remove('loading');
        overlayVideoContainer.classList.add('loaded');
      }, 2000); // Wait 2 seconds before showing iframe
    });
  
    overlayVideoSoundBtn.onclick = () => {
      // Note: YouTube iframe controls are handled by YouTube's player
      // This button is disabled for iframe content due to browser security restrictions
      overlayVideoSoundBtn.textContent = '⚠️';
      overlayVideoSoundBtn.title = 'Sound control not available for YouTube videos';
      setTimeout(() => {
        overlayVideoSoundBtn.textContent = '🔊';
        overlayVideoSoundBtn.title = '';
      }, 1000);
    };

    overlayVideoFullscreenBtn.onclick = () => {
      if (overlayVideoContainer.classList.contains('overlayVideoFullscreen')) {
        overlayVideoContainer.classList.remove('overlayVideoFullscreen');
      } else {
        overlayVideoContainer.classList.add('overlayVideoFullscreen');
        overlayVideoContainer.style.transition = 'all 0.3s ease';
      }
    };
  
    overlayVideoCloseBtn.onclick = () => {
      if (overlayVideoContainer.classList.contains('overlayVideoMinimized')) {
        // Restore to normal video view
        overlayVideoContainer.classList.remove('overlayVideoMinimized');
        overlayVideoContainer.style.transition = 'all 0.3s ease';
      } else {
        // Minimize to logo position
        overlayVideoContainer.classList.add('overlayVideoMinimized');
        overlayVideoContainer.style.transition = 'all 0.3s ease';
      }
    };

    // Drag functionality
    let overlayVideoIsDragging = false;
    let overlayVideoOffsetX = 0;
    let overlayVideoOffsetY = 0;
    const overlayVideoSnapDistance = 80;

    function overlayVideoStartDrag(clientX, clientY, target) {
      if (overlayVideoContainer.classList.contains('overlayVideoFullscreen')) return false;
      if (overlayVideoContainer.classList.contains('overlayVideoMinimized')) return false;
      if (target.closest('.overlayVideoBtn')) return false;
      
      overlayVideoIsDragging = true;
      overlayVideoContainer.style.transition = 'none';
      overlayVideoOffsetX = clientX - overlayVideoContainer.getBoundingClientRect().left;
      overlayVideoOffsetY = clientY - overlayVideoContainer.getBoundingClientRect().top;
      return true;
    }

    function overlayVideoDrag(clientX, clientY) {
      if (!overlayVideoIsDragging) return;
      
      const x = clientX - overlayVideoOffsetX;
      const y = clientY - overlayVideoOffsetY;
      
      overlayVideoContainer.style.left = x + 'px';
      overlayVideoContainer.style.top = y + 'px';
      overlayVideoContainer.style.right = 'auto';
    }

    function overlayVideoEndDrag() {
      if (overlayVideoIsDragging) {
        overlayVideoContainer.style.transition = 'all 0.3s ease';
        
        const rect = overlayVideoContainer.getBoundingClientRect();
        const windowWidth = window.innerWidth;
        const windowHeight = window.innerHeight;
        
        let finalLeft = rect.left;
        let finalTop = rect.top;
        
        // Snap to left edge
        if (rect.left < overlayVideoSnapDistance) {
          finalLeft = 10;
        }
        // Snap to right edge
        if (windowWidth - rect.right < overlayVideoSnapDistance) {
          finalLeft = windowWidth - rect.width - 10;
        }
        // Snap to top edge
        if (rect.top < overlayVideoSnapDistance) {
          finalTop = 10;
        }
        // Snap to bottom edge
        if (windowHeight - rect.bottom < overlayVideoSnapDistance) {
          finalTop = windowHeight - rect.height - 10;
        }
        
        overlayVideoContainer.style.left = finalLeft + 'px';
        overlayVideoContainer.style.top = finalTop + 'px';
      }
      overlayVideoIsDragging = false;
    }

    // Mouse events
    overlayVideoContainer.addEventListener('mousedown', (e) => {
      // If minimized, restore on click instead of dragging
      if (overlayVideoContainer.classList.contains('overlayVideoMinimized')) {
        overlayVideoContainer.classList.remove('overlayVideoMinimized');
        overlayVideoContainer.style.transition = 'all 0.3s ease';
        return;
      }
      overlayVideoStartDrag(e.clientX, e.clientY, e.target);
    });

    document.addEventListener('mousemove', (e) => {
      overlayVideoDrag(e.clientX, e.clientY);
    });

    document.addEventListener('mouseup', () => {
      overlayVideoEndDrag();
    });

    // Touch events
    overlayVideoContainer.addEventListener('touchstart', (e) => {
      // If minimized, restore on touch instead of dragging
      if (overlayVideoContainer.classList.contains('overlayVideoMinimized')) {
        overlayVideoContainer.classList.remove('overlayVideoMinimized');
        overlayVideoContainer.style.transition = 'all 0.3s ease';
        e.preventDefault();
        return;
      }
      if (overlayVideoStartDrag(e.touches[0].clientX, e.touches[0].clientY, e.target)) {
        e.preventDefault();
      }
    });

    document.addEventListener('touchmove', (e) => {
      if (overlayVideoIsDragging) {
        e.preventDefault();
        overlayVideoDrag(e.touches[0].clientX, e.touches[0].clientY);
      }
    }, { passive: false });

    document.addEventListener('touchend', () => {
      overlayVideoEndDrag();
    });
  </script>
  